---
import Layout from '../layouts/Layout.astro';
---

<Layout 
    title="Calcora User Guide | How to Use Calcora"
    description="Learn how to use Calcora for mathematical computations with step-by-step instructions."
    currentPage="docs-user-guide"
>
    <main style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
        <h1><i class="fas fa-book"></i> User Guide</h1>
        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
            Learn how to use Calcora effectively for mathematical computations.
        </p>

        <section>
            <h2>Getting Started</h2>
            <p>Calcora offers three ways to get started:</p>
            <ul>
                <li><strong>Web Demo:</strong> Try it instantly at <a href="/demo">calcoralive.netlify.app/demo</a></li>
                <li><strong>Desktop App:</strong> Download the Windows app for offline use</li>
                <li><strong>Python Package:</strong> Install via <code>pip install calcora</code></li>
            </ul>
        </section>

        <section>
            <h2>Differentiation</h2>
            <p>Compute derivatives with step-by-step explanations.</p>
            
            <h3>Basic Example</h3>
            <pre><code>differentiate("x**2 + 3*x", "x")</code></pre>
            
            <div class="tip">
                <strong>Tip:</strong> Use <code>verbosity="detailed"</code> for educational explanations showing each rule applied.
            </div>

            <h3>Supported Functions</h3>
            <ul>
                <li>Polynomials: <code>x**n</code></li>
                <li>Trigonometric: <code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code></li>
                <li>Exponential: <code>exp(x)</code>, <code>e**x</code></li>
                <li>Logarithmic: <code>log(x)</code>, <code>ln(x)</code></li>
                <li>Inverse trig: <code>asin(x)</code>, <code>acos(x)</code>, <code>atan(x)</code></li>
            </ul>
        </section>

        <section>
            <h2>Integration</h2>
            <p>Compute indefinite and definite integrals with visual representations and step-by-step solutions.</p>
            
            <h3>Indefinite Integral (Antiderivative)</h3>
            <pre><code># Find ‚à´x¬≤ dx
from calcora import integrate

result = integrate("x**2", "x")
print(result['output'])  # "x**3/3 + C"</code></pre>

            <h3>Definite Integral (Area Under Curve)</h3>
            <pre><code># Calculate ‚à´‚ÇÄ¬≤ x¬≤ dx
result = integrate(
    expression="x**2",
    variable="x",
    lower_limit=0,
    upper_limit=2
)
print(result['output'])  # "8/3" (approximately 2.667)</code></pre>

            <h3>Integration Techniques Supported</h3>
            <ul>
                <li><strong>Power Rule:</strong> <code>‚à´x‚Åø dx = x^(n+1)/(n+1) + C</code></li>
                <li><strong>Trigonometric:</strong> sin, cos, tan, sec, csc, cot</li>
                <li><strong>Exponential:</strong> <code>‚à´eÀ£ dx = eÀ£ + C</code></li>
                <li><strong>Logarithmic:</strong> <code>‚à´1/x dx = ln|x| + C</code></li>
                <li><strong>Integration by Parts:</strong> <code>‚à´u dv = uv - ‚à´v du</code></li>
                <li><strong>U-Substitution:</strong> Chain rule in reverse</li>
                <li><strong>Partial Fractions:</strong> For rational functions</li>
                <li><strong>Trig Substitution:</strong> For expressions with ‚àö(a¬≤ - x¬≤)</li>
            </ul>

            <div class="tip">
                <strong>üí° Pro Tip:</strong> Set <code>generate_graph=true</code> to get visualization data showing the integrand curve, antiderivative, and shaded area (for definite integrals).
            </div>

            <h3>Common Integrals</h3>
            <pre><code># Trigonometric
integrate("sin(x)", "x")  # -cos(x) + C

# Exponential
integrate("exp(x)", "x")  # exp(x) + C

# Rational
integrate("1/x", "x")  # ln|x| + C

# Product requiring integration by parts
integrate("x*exp(x)", "x")  # x*exp(x) - exp(x) + C

# Area calculation
integrate("sin(x)", "x", 0, 3.14159)  # Area = 2</code></pre>
        </section>

        <section>
            <h2>Matrix Operations</h2>
            <p>Perform matrix calculations including determinants, inverses, eigenvalues, and RREF with detailed step-by-step explanations.</p>
            
            <h3>Determinant</h3>
            <p>Calculate the determinant of a square matrix:</p>
            <pre><code>from calcora import matrix_determinant

matrix = [[3, 8], [4, 6]]
result = matrix_determinant(matrix)
print(result['result'])  # -14</code></pre>

            <h3>Matrix Inverse</h3>
            <p>Find the inverse of a matrix (if it exists):</p>
            <pre><code>from calcora import matrix_inverse

matrix = [[1, 2], [3, 4]]
result = matrix_inverse(matrix)
print(result['result'])  # [[-2, 1], [1.5, -0.5]]</code></pre>

            <div class="tip">
                <strong>Note:</strong> If the determinant is 0, the matrix is singular and has no inverse.
            </div>

            <h3>Eigenvalues and Eigenvectors</h3>
            <p>Compute eigenvalues and eigenvectors:</p>
            <pre><code>from calcora import matrix_eigenvalues

matrix = [[2, 1], [1, 2]]
result = matrix_eigenvalues(matrix)
print(result['eigenvalues'])  # [3, 1]
print(result['eigenvectors'])  # [[0.707, 0.707], [-0.707, 0.707]]</code></pre>

            <h3>Row Reduction (RREF)</h3>
            <p>Reduce a matrix to row echelon form:</p>
            <pre><code>from calcora import matrix_rref

# Solve system: 2x + y = 5, x - y = 1
augmented = [[2, 1, 5], [1, -1, 1]]
result = matrix_rref(augmented)
print(result['result'])  # [[1, 0, 2], [0, 1, 1]]
# Solution: x = 2, y = 1</code></pre>

            <h3>LU Decomposition</h3>
            <p>Factor a matrix into lower and upper triangular forms with partial pivoting: <strong>PA = LU</strong></p>
            <pre><code>from calcora import matrix_lu

matrix = [[2, 1, 1], [4, -6, 0], [-2, 7, 2]]
result = matrix_lu(matrix)

print(result['P'])  # Permutation matrix
print(result['L'])  # Lower triangular (1s on diagonal)
print(result['U'])  # Upper triangular</code></pre>

            <div class="tip">
                <strong>üí° Why LU Decomposition?</strong> Once computed, you can reuse LU to solve Ax = b for multiple different b vectors efficiently. Also useful for computing determinants and matrix inverses.
            </div>

            <h4>Verification</h4>
            <p>The decomposition satisfies: <strong>PA = LU</strong></p>
            <ul>
                <li><strong>P</strong> records row swaps for numerical stability</li>
                <li><strong>L</strong> stores the elimination multipliers</li>
                <li><strong>U</strong> is the result of Gaussian elimination</li>
            </ul>

            <h3>Use Cases</h3>
            <ul>
                <li><strong>Determinants:</strong> Check if matrix is invertible, compute volumes</li>
                <li><strong>Inverses:</strong> Solve matrix equations Ax = b</li>
                <li><strong>Eigenvalues:</strong> Find principal components, analyze stability</li>
                <li><strong>RREF:</strong> Solve linear systems, test linear independence</li>
                <li><strong>LU Decomposition:</strong> Efficiently solve systems with multiple right-hand sides, compute determinants</li>
            </ul>
        </section>

        <section>
            <h2>Tips & Tricks</h2>
            <ul>
                <li>Use <code>**</code> for exponentiation (not <code>^</code>)</li>
                <li>Wrap function arguments in parentheses: <code>sin(x)</code></li>
                <li>Use symbolic variables: <code>Matrix([[a, b], [c, d]])</code></li>
            </ul>
        </section>
    </main>
</Layout>

<style>
    section {
        margin: 3rem 0;
    }

    h2 {
        font-size: 2rem;
        margin: 2rem 0 1rem;
        color: var(--primary);
    }

    h3 {
        font-size: 1.5rem;
        margin: 1.5rem 0 0.75rem;
    }

    ul, ol {
        margin: 1rem 0;
        padding-left: 2rem;
    }

    li {
        margin: 0.5rem 0;
    }

    a {
        color: var(--primary);
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }

    .tip {
        background: var(--bg-secondary);
        border-left: 4px solid var(--primary);
        border-radius: 8px;
        padding: 1rem 1.5rem;
        margin: 1.5rem 0;
    }

    .tip strong {
        color: var(--primary);
    }

    pre {
        background: var(--bg-tertiary);
        border-radius: 8px;
        padding: 1.5rem;
        overflow-x: auto;
        margin: 1rem 0;
    }

    code {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9rem;
        line-height: 1.6;
    }

    :not(pre) > code {
        background: var(--bg-tertiary);
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-size: 0.875rem;
    }
</style>
